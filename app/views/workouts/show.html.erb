<%= render partial: "/navbar/navbar" %> 

<div class="row">
  <div class="col s2 center">
    <br><br>
    <%= image_tag(current_user.profile_picture, class: "circle profile-pic") %>

    <div class="card">
      <div class="card-content">
      <h5>Course<br>Comparison</h5>
      <hr>
      <%= form_tag(workout_path(@activity), method: "get") do %>
        <%= radio_button_tag(:race, "leadville") %>
        <%= label_tag(:race_leadville, "Leadville 100") %>
        <%= radio_button_tag(:race, "boston") %>
        <%= label_tag(:race_boston, "Boston Marathon") %>
        <%= radio_button_tag(:race, "western") %>
        <%= label_tag(:race_western, "Western States") %>
        <%= radio_button_tag(:race, "badwater") %>
        <%= label_tag(:race_badwater, "Badwater 135") %>
        <%= radio_button_tag(:race, "hardrock") %>
        <%= label_tag(:race_hardrock, "Hardrock 100") %>
        <br><br>
        <%= submit_tag("Calculate")%>
      <% end %>
      </div>
    </div>


      <div class="card">
        <div class="card-content">
          <span class="card-title"><%= link_to(@race.title, @race.website) %> </span>
          <p><i class="tiny material-icons">query_builder</i> <%= number_with_delimiter(@race.distance) %> miles</p>
          <p><i class="tiny material-icons">query_builder</i> <%= number_with_delimiter(@race.course_record) %> CR</p>
          <p><i class="tiny material-icons">navigation</i> <%= number_with_delimiter(@race.elevation_gain.to_i) %> ft gain</p>
          <p><i class="tiny material-icons">navigation</i> <%= number_with_delimiter(@race.max_elevation.to_i) %> ft max</p>
        </div>
        <div class="card-action">
          <p style="text-decoration: underline"><%= @race.city %>, <%= @race.state %></p>
          <p><%= @race.description %></p>
        </div>
      </div>



















  </div>
  <div class="col s10 custom-padding">
    <h5 class="center"><%= @service.name(@activity) %> </h5>
      <table class="bordered highlight centered responsive-table font-color font-outline">
        <thead>
          <tr>
              <th data-field="Date">Date</th>
              <th data-field="Distance">Distance</th>
              <th data-field="Duration">Duration</th>
              <th data-field="Pace">Pace</th>
              <th data-field="Elevation-Gain">Elevation Gain</th>
              <th data-field="Elevation-Max">Max Elevation</th>
              <th data-field="Time">Start Time</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td><%= @service.start_date(@activity) %></td> 
            <td><%= @service.distance(@activity) %> mi</td>  
            <td><%= @service.duration(@activity) %></td>
            <td><%= @service.average_pace(@activity) %></td>
            <td><%= @service.total_elevation_gain(@activity) %></td> 
            <td><%= @service.elev_high(@activity) %></td> 
            <td><%= @service.start_time(@activity) %></td> 
          </tr> 
        </tbody>
      </table>


    <hr>


    <h5 class="center">Difficulty Rating vs <%= @race.title %> </h5>
    <h4 class="center"><%= @service.difficulty_rating(@activity) %>/<%= @service.difficulty_range(@activity) %> </h4>





    <table class="bordered highlight centered responsive-table font-color font-outline">
    <!--   <thead>
        <tr>
          <th data-field="Category">Category</th>
          <th data-field="Total-Elevation-Gain">Total Elevation Gain</th>
          <th data-field="Max-Elevation">Max Elevation</th>
          <th data-field="Min-Elevation">Min Elevation</th>
          <th data-field="Score">Score</th>
        </tr>
      </thead> -->

      <tbody>
          <tr>
            <td><i class="medium material-icons">navigation</i><br>Elevation</td>
            <td><%= @service.total_elevation_gain(@activity) %> ft<br>
              total gain</td>   
            <td><%= @service.elev_high(@activity) %> ft<br>
              max</td> 
            <td><%= @service.elev_low(@activity) %> ft<br>
              min</td> 
            <td><%= @service.score_elevation(@activity) %><br>
              rating/20<td>
          </tr>

    <!--   <thead>
        <tr>
          <th data-field="Category">Category</th>
          <th data-field="Average-Heartrate">Average Heartrate</th>
          <th data-field="Max-Heartrate">Max Heartrate</th>
          <th data-field="100">100% effort</th>
          <th data-field="Score">Score</th>
        </tr>
      </thead> -->

      <tbody>
          <tr>
            <td><i class="medium material-icons">trending_up</i><br>Heartrate</td>
            <td><%= @service.average_heartrate(@activity) %> bpm<br>
              average</td>   
            <td><%= @service.max_heartrate(@activity) %> bpm<br>
              max</td> 
            <td>190 bpm<br>
              100%</td> 
            <td><%= @service.score_heartrate(@activity) %> <br>
              rating/10<td>
          </tr>
      </tbody>

    <!--   <thead>
        <tr>
          <th data-field="Category">Category</th>
          <th data-field="Distance">Distance</th>
          <th data-field="Duration">Duration</th>
          <th data-field="Elapsed-Time">Elapsed</th>
          <th data-field="Score">Score</th>
        </tr>
      </thead> -->

      <tbody>
          <tr>
            <td><i class="medium material-icons">query_builder</i><br>Duration</td>
            <td><%= @service.distance(@activity) %> miles<br>
              distance</td>   
            <td><%= @service.duration(@activity) %><br>
              duration</td> 
            <td><%= @service.elapsed_time(@activity) %><br>
              elapsed</td> 
            <td><%= @service.score_duration(@activity) %><br>
              rating/20<td>
          </tr>
      </tbody>


    <!--   <thead>
        <tr>
          <th data-field="Category">Category</th>
          <th data-field="Average-Pace">Average Pace</th>
          <th data-field="Average-Speed">Average Speed</th>
          <th data-field="Max-Speed">Max Speed</th>
          <th data-field="Score">Score</th>
        </tr>
      </thead> -->

      <tbody>
          <tr>
            <td><i class="medium material-icons">trending_flat</i><br>Speed</td>
            <td><%= @service.average_pace(@activity) %><br>
              pace</td>   
            <td><%= @service.average_speed(@activity) %> mph<br>
              average</td> 
            <td><%= @service.max_speed(@activity) %> mph<br>
              max</td> 
            <td><br>
              not rated<td>
          </tr>
      </tbody>
    </table>
  </div>
</div>